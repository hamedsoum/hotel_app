<div class="card">
    <div class="card-header text-white bg-info">
        Registration
    </div>
    <div class="card-body">
        <form novalidate (ngSubmit)="saveData()" [formGroup]="registerForm">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="lastName">LastName</label>
                    <input type="text" 
                    id="LastName" 
                    class="form-control" 
                    placeholder="LastName"
                    formControlName="lastName"
                    [ngClass]="{'is-invalid': registerForm.get('lastName')?.touched && !registerForm.get('lastName')?.valid }"
                       >    
                       <div *ngIf="registerForm.get('lastName')?.touched">
                        <small *ngIf="registerForm.get('lastName')?.errors?.['required']" 
                        style="color: red;">
                            entrez votre nom
                        </small>
                        <small *ngIf="registerForm.get('lastName')?.errors?.['minlength']" 
                        style="color: red;">
                            Minimum 4 caractères
                        </small>
                    </div>            
                </div>

                <div class="col-md-6 mb-3">
                    <label for="firtName">Prénoms</label>
                    <input type="text" 
                    id="firtName" 
                    class="form-control" 
                    placeholder="firstName"  
                    formControlName="firstName" 
                    [ngClass]="{'is-invalid': registerForm.get('firstName')?.touched 
                                && !registerForm.get('firstName')?.valid }" 
                        >  
                        <div *ngIf="registerForm.get('firstName')?.touched">
                            <small 
                            *ngIf="registerForm.get('firstName')?.errors?.['required']"
                             style="color: red;">
                                entrez vos prénoms
                            </small>
                            <small 
                            *ngIf="registerForm.get('firstName')?.errors?.['maxlength']" 
                            style="color: red;">
                                max 20 caractères
                            </small>
                        </div>     
                </div>

            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="email">email</label>
                    <input 
                    type="email" 
                    id="email" 
                    class="form-control" 
                    placeholder="email" 
                    name="email"
                    formControlName="email"
                    [ngClass]="{'is-invalid': registerForm.get('email')?.touched && !registerForm.get('email')?.valid }" 
                    > 
                    <div *ngIf="registerForm.get('email')?.touched">
                        <small *ngIf="registerForm.get('email')?.errors?.['required']" style="color: red;">
                            entrez votre nom
                        </small>
                        <small *ngIf="registerForm.get('email')?.errors?.['email']" style="color: red;">
                            entrez un format email 
                        </small>
                    </div> 
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="phoneId">phone</label>
                    <input type="tel"
                     class="form-control"
                    placeholder="Phone number"
                    formControlName="phone"
                    [ngClass]="{'is-invalid' : !registerForm.get('phone')?.valid }" 
                     >
                     <div class="invalid-feedback">
                         <span *ngIf="registerForm.get('phone')?.errors?.['required']">
                            Veuillez entrez votre numero de telephone
                         </span>
                     </div>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="phoneId">Receive Notifications</label>
                    <div class="col-md-8">
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input type="radio"
                                 value="email"
                                 formControlName="notification" 
                                 class="form-check-input"
                                 (click)="setNotificationSetting('email')">
                                E-mail
                            </label>
                        </div>
                        <div class="form-check form-check-inline">
                            <label class="form-check-label">
                                <input type="radio" 
                                value="text" 
                                formControlName="notification" 
                                class="form-check-input"
                                (click)="setNotificationSetting('text')">
                                Texte
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-row mb-3">
                <div class="col-md-12">
                    <div class="form-check mt-4 pt-3">
                        <label for="sedCatalogueiD" 
                            class="form-check-label">
                            <input type="checkbox" 
                            class="form-check-input" 
                            name="sendCatalogue"
                            formControlName="sendCatalogue"
                                >
                            Oui je souhaite recevoir la publicité
                        </label>
                    </div>
                </div>
            </div>
            <div *ngIf="user.sendCatalogue">
                <div class="form-row mb-3">
                    <div class="col-md-12 mb-2">
                        <label for="">Adresse 1</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-12 mb-2">
                        <label for="">Adresse 2</label>
                        <input type="text" class="form-control">
                    </div>
                </div>
                <div action="" class="row">
                    <div class="col-md-6 mb-3">
                        <label for="">Ville</label>
                        <input type="text" class="form-control">
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="">Departement</label>
                        <select name="" id="" class="form-control">
                            <option value="">Selectionne un département</option>
                            <option value="A">A</option>
                            <option value="A">B</option>
                            <option value="A">C</option>
                            <option value="A">D</option>
                        </select>
                    </div>
                    <div class="col-md-3 mb-3">
                        <label for="">Code postal</label>
                        <input type="number" class="form-control">
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-end ">
                <button 
                (click)="fillFormData()"
                class="btn btn-outline-info mx-2">
                    Remplir les champs par défaut
                </button>
                <button class="btn btn-info text-white" type="submit" [disabled]="!registerForm.valid">
                    Register
                </button>
            </div>
        </form>
    </div>
</div>

<hr>

<p> Dirty {{ registerForm.dirty }}</p>
<p> Pristine {{ registerForm.pristine }}</p>
<p> Valid {{ registerForm.valid }}</p>
<p> Invalid {{ registerForm.invalid }}</p>
<pre> Value {{ registerForm.value | json }}</pre>